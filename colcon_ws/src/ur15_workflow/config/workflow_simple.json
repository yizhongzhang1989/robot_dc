{
  "context": {
    "robot_ip": "192.168.1.15",
    "robot_port": 30002,
    "camera_topic": "/ur15_camera/image_raw"
  },
  "workflow": [
    {
      "id": "move_to_target",
      "type": "robot_move",
      "description": "Move robot to capture position",
      "robot_pose": [0.3, -0.5, 0.4, 3.14, 0, 0],
      "move_type": "movel",
      "velocity": 0.3,
      "acceleration": 0.3,
      "wait_time": 2.0,
      "stop_on_failure": true
    },
    {
      "id": "capture_pattern",
      "type": "movement_pattern",
      "description": "Capture 5 images in grid pattern",
      "pattern_type": "grid_5point",
      "pattern_params": {
        "offset_distance": 0.01
      },
      "center_pose": "${current_robot_pose}",
      "save_to_session": true,
      "conditions": [
        {
          "type": "previous_success",
          "operation_id": "move_to_target"
        }
      ]
    },
    {
      "id": "compute_position",
      "type": "positioning",
      "description": "Calculate 3D positions",
      "template_points": [
        {
          "name": "Target_Point_1",
          "x": 0,
          "y": 0,
          "z": 0
        },
        {
          "name": "Target_Point_2",
          "x": 0.1,
          "y": 0,
          "z": 0
        }
      ],
      "timeout": 5000,
      "conditions": [
        {
          "type": "previous_success",
          "operation_id": "capture_pattern"
        }
      ]
    },
    {
      "id": "return_home",
      "type": "robot_move",
      "description": "Return to safe position",
      "robot_pose": [0, -1.57, 1.57, -1.57, -1.57, 0],
      "move_type": "movej",
      "velocity": 0.3,
      "acceleration": 0.3,
      "stop_on_failure": false
    }
  ]
}
